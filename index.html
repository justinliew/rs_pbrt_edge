<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>hello-wasm example</title>
</head>

<body>
	<canvas id="framebuffer" width="500" height="500"></canvas>
	<div id="controls">
		Tile Size: <input id="tile_size" value="64" />
		<button id="render_button">Render</button>
	</div>
	<script type="module">

		import init, { lib_entry } from "./pkg/rs_pbrt.js";
		init()
			.then(() => {
				document.getElementById("render_button").addEventListener("click", () => {
					let tile_size = +document.getElementById("tile_size").value;
					let output = lib_entry(tile_size)

					var canvas = document.getElementById("framebuffer");
					canvas.width = 500; // TODO get the width and height from lib_entry in the future
					canvas.height = 500;
				});
			});
	</script>
</body>

</html>